<adapter>
  <unique-id>expressions-testing</unique-id>
  <start-up-event-imp>com.adaptris.core.event.StandardAdapterStartUpEvent</start-up-event-imp>
  <heartbeat-event-imp>com.adaptris.core.HeartbeatEvent</heartbeat-event-imp>
  <shared-components>
    <connections>
      <jetty-http-connection>
        <unique-id>jetty-conn</unique-id>
        <port>8081</port>
        <server-connector-properties/>
        <http-configuration/>
      </jetty-http-connection>
    </connections>
    <services/>
  </shared-components>
  <event-handler class="default-event-handler">
    <unique-id>DefaultEventHandler</unique-id>
    <connection class="null-connection">
      <unique-id>agitated-einstein</unique-id>
    </connection>
    <producer class="null-message-producer">
      <unique-id>romantic-bartik</unique-id>
    </producer>
  </event-handler>
  <message-error-handler class="null-processing-exception-handler">
    <unique-id>silly-dijkstra</unique-id>
  </message-error-handler>
  <failed-message-retrier class="no-retries">
    <unique-id>jolly-ptolemy</unique-id>
  </failed-message-retrier>
  <channel-list>
    <channel>
      <consume-connection class="shared-connection">
        <lookup-name>jetty-conn</lookup-name>
      </consume-connection>
      <produce-connection class="null-connection">
        <unique-id>null-conn</unique-id>
      </produce-connection>
      <workflow-list>
        <standard-workflow>
          <consumer class="jetty-message-consumer">
            <message-factory class="default-message-factory"/>
            <unique-id>addition</unique-id>
            <additional-debug>true</additional-debug>
            <path>/jruby1</path>
            <methods>GET</methods>
            <parameter-handler class="jetty-http-parameters-as-metadata"/>
            <header-handler class="jetty-http-ignore-headers"/>
          </consumer>
          <service-collection class="service-list">
            <unique-id>eager-albattani</unique-id>
            <services>
                <jruby-scripting-service>
                    <unique-id>jruby-service</unique-id>
                    <init-script>
                        <location>${workingDir}/config/lifecycle.rb</location>
                        <path-type>ABSOLUTE</path-type>
                    </init-script>
                    <start-script>
                        <location>${workingDir}/config/lifecycle.rb</location>
                        <path-type>ABSOLUTE</path-type>
                    </start-script>
                    <stop-script>
                        <location>${workingDir}/config/lifecycle.rb</location>
                        <path-type>ABSOLUTE</path-type>
                    </stop-script>
                    <close-script>
                        <location>${workingDir}/config/lifecycle.rb</location>
                        <path-type>ABSOLUTE</path-type>
                    </close-script>
                    <service-script>
                        <location>${workingDir}/config/myjsonpath.rb</location>
                        <path-type>ABSOLUTE</path-type>
                    </service-script>
                    <builder class="jruby-default-builder">
                        <context-scope>THREADSAFE</context-scope>
                        <variable-behaviour>TRANSIENT</variable-behaviour>
                        <compile-mode>JIT</compile-mode>
                        <jruby-home>${jrubyHome}</jruby-home>
                    </builder>
                </jruby-scripting-service>
            </services>
          </service-collection>
          <producer class="jetty-standard-response-producer">
            <unique-id>return-result</unique-id>
            <status-provider class="http-configured-status">
              <status>OK_200</status>
            </status-provider>
            <response-header-provider class="jetty-no-response-headers"/>
            <content-type-provider class="http-configured-content-type-provider">
              <mime-type>text/plain</mime-type>
            </content-type-provider>
            <send-payload>true</send-payload>
          </producer>
          <unique-id>myjsonpath.rb</unique-id>
        </standard-workflow>
      </workflow-list>
      <unique-id>jruby-processing</unique-id>
    </channel>
  </channel-list>
  <message-error-digester class="standard-message-error-digester">
    <unique-id>ErrorDigest</unique-id>
    <digest-max-size>100</digest-max-size>
  </message-error-digester>
</adapter>